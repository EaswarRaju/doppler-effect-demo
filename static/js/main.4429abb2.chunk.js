(this["webpackJsonpdoppler-effect-demo"]=this["webpackJsonpdoppler-effect-demo"]||[]).push([[0],{11:function(e,t,n){e.exports=n.p+"static/media/star-small.eba6df9e.png"},13:function(e,t,n){e.exports=n(27)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(3),o=n.n(c),u=n(9),i=n(1),l=n(2),f=(n(24),n(11)),s=n.n(f),d=function(e){var t=e.drawingColor,n=e.colorValue,c=Object(r.useRef)(null),o=Object(r.useRef)(null),u=Object(r.useRef)(null),i=function(){var e=c.current;o.current.clearRect(0,0,e.width,e.height),o.current.drawImage(u.current,0,0);var r=o.current.getImageData(0,0,e.width,e.height);!function(e,t,n){if(n)for(var r=0;r<e.length;r+=4)e[r+t]=Math.min(e[r+t],255-n),e[r+1]=Math.min(e[r+1],255-n)}(r.data,t,n),o.current.putImageData(r,0,0)};return Object(r.useEffect)((function(){var e=c.current;o.current=e.getContext("2d");var t=new Image;t.src=s.a,t.onload=function(){e.width=t.width,e.height=t.height,u.current=t,i()}}),[]),Object(r.useEffect)((function(){u.current&&i()}),[n,t]),a.a.createElement("canvas",{ref:c})},v=0,h=2,m=function(e){return Math.round(Math.abs(e/100*255))},p=n(4),g=(n(25),function(e){var t=e.type,n=e.value,c=e.min,o=void 0===c?0:c,u=e.max,i=void 0===u?10:u,l=e.label,f=e.onChange,s=Object(r.useState)(n),d=Object(p.a)(s,2),v=d[0],h=d[1];Object(r.useEffect)((function(){n!==v&&h(n)}),[n]);var m=function(e){var t=parseFloat(v);(isNaN(t)||""===t||"-"===t)&&(t=0),"up"===e?t+=1:"down"===e&&(t-=1),t<o?t=o:t>i&&(t=i),t=v.toString().includes(".")?t.toFixed(2):t,h(t),f(t)},g={type:"text",value:v,onChange:function(e){var n=e.target.value;if("text"===t)h(n),f(n);else if(function(e,t,n){if(isNaN(e)&&"-"!==e)return!1;var r=parseInt(e,10);return""===e||r>=t&&r<=n||"-"===e&&t<0}(n,o,i)){var r=function(e){return e&&e.includes(".")&&e.length-e.indexOf(".")>3?e.substr(0,e.indexOf(".")+3):e}(n);h(r),f(r)}}};return a.a.createElement("label",{className:"input-control"},l&&a.a.createElement("span",{className:"input-label"},l),a.a.createElement("input",Object.assign({},g,{onKeyDown:function(e){"ArrowUp"===e.key?m("up"):"ArrowDown"===e.key&&m("down")}})))});g.defaultProps={type:"text",value:"",onChange:function(){}};var b=g,E=(n(26),function(e){var t=e.min,n=e.max,c=e.value,o=void 0===c?0:c,u=e.onChange,i=Object(r.useState)(o),l=Object(p.a)(i,2),f=l[0],s=l[1],d=Object(r.useRef)(null),v=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e,r=d.current,a=0,c=!1,o=v.current.offsetWidth,u=function(t){e=t.changedTouches?t.changedTouches[0].clientX:t.clientX,c=!0,a=r.offsetLeft},i=function(e){for(var r=t,a=n,c=0;r<=0;)r+=100,a+=100,c+=100;r=Math.log(r);var u=((a=Math.log(a))-r)/o;return(Math.exp(r+u*e)-c).toFixed(2)},l=function(e){var t=a+e;t<0?t=0:t>o&&(t=o),r.style.left=t+"px",s(i(t))},f=function(t){if(c){var n=(t.changedTouches?t.changedTouches[0].clientX:t.clientX)-e;l(n)}},h=function(){c=!1},m=function(e){var t=(e.changedTouches?e.changedTouches[0].clientX:e.clientX)-v.current.getBoundingClientRect().x;r.style.left=t+"px",s(i(t))};r.addEventListener("mousedown",u,!1),document.addEventListener("mouseup",h,!1),document.addEventListener("mousemove",f,!1),document.addEventListener("selectstart",(function(e){return e.preventDefault(),!1}),!1),r.addEventListener("touchstart",u,!1),document.addEventListener("touchend",h,!1),document.addEventListener("touchmove",f,!1),r.addEventListener("keydown",(function(e){"ArrowLeft"===e.key||"ArrowDown"===e.key?(a=r.offsetLeft,l(-2)):"ArrowRight"!==e.key&&"ArrowUp"!==e.key||(a=r.offsetLeft,l(2))}),!1),v.current.addEventListener("mousedown",m,!1),v.current.addEventListener("touchstart",m,!1)}),[]),Object(r.useEffect)((function(){u(f)}),[f]),Object(r.useEffect)((function(){var e=function(e){for(var r=t,a=n,c=0;r<=0;)r+=100,a+=100,c+=100;r=Math.log(r);var o=((a=Math.log(a))-r)/v.current.offsetWidth;return(Math.log(parseFloat(e)+c)-r)/o}(o);d.current.style.left=e+"px"}),[o]),a.a.createElement("div",{className:"slider",ref:v},a.a.createElement("button",{className:"slider-control",ref:d}))});E.defaultProps={onChange:function(){}};var O=E,w=function(){var e=Object(l.b)(),t=function(t){e(function(e){return{type:"UPDATE_VELOCITY",velocity:e}}(""===t||"-"===t?0:t))},n=Object(l.c)((function(e){return e.appReducer})).velocity;return a.a.createElement("div",{className:"app-container"},a.a.createElement(d,{drawingColor:n<0?v:h,colorValue:m(n)}),a.a.createElement("div",{className:"controls"},a.a.createElement(b,{type:"number",min:-100,max:100,label:"Velocity (km/s)",onChange:t,value:n}),a.a.createElement(O,{min:-100,max:100,onChange:t,value:n})))},y=n(12),j={velocity:0},x=Object(i.c)({appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_VELOCITY":return Object(y.a)({},e,{velocity:t.velocity});default:return e}}}),L=Object(i.d)(x,Object(i.a)(u.a));o.a.render(a.a.createElement(l.a,{store:L},a.a.createElement(w,null)),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.4429abb2.chunk.js.map